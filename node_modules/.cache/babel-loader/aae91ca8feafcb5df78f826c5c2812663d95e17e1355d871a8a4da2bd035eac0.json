{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{db}from\"../firebase\";import{collection,getDocs,deleteDoc,doc}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPanel(){const[password,setPassword]=useState(\"\");const[authenticated,setAuthenticated]=useState(false);const[reviews,setReviews]=useState([]);const[contacts,setContacts]=useState([]);const correctPassword=\"admin123\";useEffect(()=>{if(authenticated){loadData();}},[authenticated]);const loadData=async()=>{const reviewsSnap=await getDocs(collection(db,\"reviews\"));setReviews(reviewsSnap.docs.map(doc=>({id:doc.id,...doc.data()})));const contactsSnap=await getDocs(collection(db,\"contacts\"));setContacts(contactsSnap.docs.map(doc=>({id:doc.id,...doc.data()})));};const handleLogin=()=>{if(password===correctPassword){setAuthenticated(true);}else{alert(\"Невірний пароль\");}};const handleDelete=async(type,id)=>{await deleteDoc(doc(db,type,id));loadData();};if(!authenticated){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u0445\\u0456\\u0434 \\u0432 \\u0430\\u0434\\u043C\\u0456\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u0456\\u0434\\u0433\\u0443\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0406\\u043C'\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0412\\u0456\\u0434\\u0433\\u0443\\u043A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0456\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reviews.map(r=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:r.name}),/*#__PURE__*/_jsx(\"td\",{children:r.email}),/*#__PURE__*/_jsx(\"td\",{children:r.text}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(\"reviews\",r.id),children:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"})})]},r.id))})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0438 \\u0437 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u043E\\u0457 \\u0444\\u043E\\u0440\\u043C\\u0438\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0406\\u043C'\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0432\\u0456\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0456\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(c=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:c.name}),/*#__PURE__*/_jsx(\"td\",{children:c.email}),/*#__PURE__*/_jsx(\"td\",{children:c.phone}),/*#__PURE__*/_jsx(\"td\",{children:c.message}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(\"contacts\",c.id),children:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"})})]},c.id))})]})]});}export default AdminPanel;","map":{"version":3,"names":["React","useEffect","useState","db","collection","getDocs","deleteDoc","doc","jsx","_jsx","jsxs","_jsxs","AdminPanel","password","setPassword","authenticated","setAuthenticated","reviews","setReviews","contacts","setContacts","correctPassword","loadData","reviewsSnap","docs","map","id","data","contactsSnap","handleLogin","alert","handleDelete","type","style","padding","children","placeholder","value","onChange","e","target","onClick","border","r","name","email","text","c","phone","message"],"sources":["C:/Users/User/Desktop/promelektroservice-react-structure/src/pages/AdminPanel.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, getDocs, deleteDoc, doc } from \"firebase/firestore\";\r\n\r\nfunction AdminPanel() {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [contacts, setContacts] = useState([]);\r\n\r\n  const correctPassword = \"admin123\";\r\n\r\n  useEffect(() => {\r\n    if (authenticated) {\r\n      loadData();\r\n    }\r\n  }, [authenticated]);\r\n\r\n  const loadData = async () => {\r\n    const reviewsSnap = await getDocs(collection(db, \"reviews\"));\r\n    setReviews(reviewsSnap.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n\r\n    const contactsSnap = await getDocs(collection(db, \"contacts\"));\r\n    setContacts(contactsSnap.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    if (password === correctPassword) {\r\n      setAuthenticated(true);\r\n    } else {\r\n      alert(\"Невірний пароль\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (type, id) => {\r\n    await deleteDoc(doc(db, type, id));\r\n    loadData();\r\n  };\r\n\r\n  if (!authenticated) {\r\n    return (\r\n      <div style={{ padding: 20 }}>\r\n        <h2>Вхід в адмін-панель</h2>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Введіть пароль\"\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n        />\r\n        <button onClick={handleLogin}>Увійти</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Відгуки</h2>\r\n      <table border=\"1\">\r\n        <thead>\r\n          <tr><th>Ім'я</th><th>Email</th><th>Відгук</th><th>Дія</th></tr>\r\n        </thead>\r\n        <tbody>\r\n          {reviews.map(r => (\r\n            <tr key={r.id}>\r\n              <td>{r.name}</td>\r\n              <td>{r.email}</td>\r\n              <td>{r.text}</td>\r\n              <td><button onClick={() => handleDelete(\"reviews\", r.id)}>Видалити</button></td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      <h2>Заявки з контактної форми</h2>\r\n      <table border=\"1\">\r\n        <thead>\r\n          <tr><th>Ім'я</th><th>Email</th><th>Телефон</th><th>Повідомлення</th><th>Дія</th></tr>\r\n        </thead>\r\n        <tbody>\r\n          {contacts.map(c => (\r\n            <tr key={c.id}>\r\n              <td>{c.name}</td>\r\n              <td>{c.email}</td>\r\n              <td>{c.phone}</td>\r\n              <td>{c.message}</td>\r\n              <td><button onClick={() => handleDelete(\"contacts\", c.id)}>Видалити</button></td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}