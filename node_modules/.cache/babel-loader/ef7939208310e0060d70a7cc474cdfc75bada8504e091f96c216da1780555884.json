{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{db}from\"../firebase\";import{collection,addDoc,getDocs}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewsPage(){const[reviews,setReviews]=useState([]);const[inputValue,setInputValue]=useState(\"\");const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");useEffect(()=>{const fetchReviews=async()=>{const querySnapshot=await getDocs(collection(db,\"reviews\"));const reviewsData=querySnapshot.docs.map(doc=>doc.data());setReviews(reviewsData);};fetchReviews();},[]);const handleSubmit=async()=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(inputValue.trim()&&name.trim()&&email.trim()&&emailRegex.test(email)){const newReview={text:inputValue.trim(),name,email};await addDoc(collection(db,\"reviews\"),newReview);setReviews(prev=>[...prev,newReview]);setInputValue(\"\");setName(\"\");setEmail(\"\");}else{alert(\"Будь ласка, заповніть всі поля коректно.\");}};return/*#__PURE__*/_jsx(\"main\",{className:\"page-with-footer\",children:/*#__PURE__*/_jsxs(\"section\",{id:\"reviews\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u0456\\u0434\\u0433\\u0443\\u043A\\u0438 \\u043A\\u043B\\u0456\\u0454\\u043D\\u0442\\u0456\\u0432\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0456\\u043C\\u2019\\u044F\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u0412\\u0430\\u0448 email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0456\\u0442\\u044C \\u0441\\u0432\\u0456\\u0439 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A...\",className:\"review-textarea\",value:inputValue,onChange:e=>setInputValue(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleSubmit,children:\"\\u041D\\u0430\\u0434\\u0456\\u0441\\u043B\\u0430\\u0442\\u0438\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews-list\",children:reviews.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:review.name}),\" (\",review.email,\")\"]}),/*#__PURE__*/_jsx(\"p\",{children:review.text})]},index))})]})});}export default ReviewsPage;","map":{"version":3,"names":["React","useState","useEffect","db","collection","addDoc","getDocs","jsx","_jsx","jsxs","_jsxs","ReviewsPage","reviews","setReviews","inputValue","setInputValue","name","setName","email","setEmail","fetchReviews","querySnapshot","reviewsData","docs","map","doc","data","handleSubmit","emailRegex","trim","test","newReview","text","prev","alert","className","children","id","type","placeholder","value","onChange","e","target","required","style","textAlign","onClick","review","index"],"sources":["C:/Users/User/Desktop/promelektroservice-react-structure/src/pages/ReviewsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\n\nfunction ReviewsPage() {\n  const [reviews, setReviews] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      const querySnapshot = await getDocs(collection(db, \"reviews\"));\n      const reviewsData = querySnapshot.docs.map(doc => doc.data());\n      setReviews(reviewsData);\n    };\n    fetchReviews();\n  }, []);\n\n  const handleSubmit = async () => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (inputValue.trim() && name.trim() && email.trim() && emailRegex.test(email)) {\n      const newReview = { text: inputValue.trim(), name, email };\n      await addDoc(collection(db, \"reviews\"), newReview);\n      setReviews(prev => [...prev, newReview]);\n      setInputValue(\"\");\n      setName(\"\");\n      setEmail(\"\");\n    } else {\n      alert(\"Будь ласка, заповніть всі поля коректно.\");\n    }\n  };\n\n  return (\n    <main className=\"page-with-footer\">\n      <section id=\"reviews\">\n        <h2>Відгуки клієнтів</h2>\n        <input type=\"text\" placeholder=\"Ваше ім’я\" value={name} onChange={(e) => setName(e.target.value)} required />\n        <input type=\"email\" placeholder=\"Ваш email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n        <textarea\n          placeholder=\"Напишіть свій відгук...\"\n          className=\"review-textarea\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n        ></textarea>\n        <div style={{ textAlign: \"center\" }}>\n          <button className=\"btn\" onClick={handleSubmit}>Надіслати</button>\n        </div>\n        <div className=\"reviews-list\">\n          {reviews.map((review, index) => (\n            <div key={index} className=\"review-item\">\n              <p><strong>{review.name}</strong> ({review.email})</p>\n              <p>{review.text}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default ReviewsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}